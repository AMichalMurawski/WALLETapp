"use strict";(self.webpackChunkwalletapp=self.webpackChunkwalletapp||[]).push([[373],{9812:function(e,a,n){n.r(a),n.d(a,{default:function(){return w}});var o=n(9434),t=n(2791),d="ModalAddTransaction_backdrop__7I-W7",r="ModalAddTransaction_box__Y41ZK",c="ModalAddTransaction_title__Wzy3o",s="ModalAddTransaction_closeBtn__KUoYn",l=n(8617),m="ModalAddTransactionCheckbox_checkboxInfo__7YUnK",i="ModalAddTransactionCheckbox_checkboxText__rtV9u",u="ModalAddTransactionCheckbox_checkboxLabel__E-bGg",_="ModalAddTransactionCheckbox_checkboxIconBox__ypS+1",x="ModalAddTransactionCheckbox_checkbox__B719m",p="ModalAddTransactionCheckbox_checkboxIcon__RyBUR",h=n(1472),T=n(9012),F=n(184),M=function(e){var a=(0,h.dd)().modalTransaction,n=(0,o.I0)();return(0,F.jsxs)("div",{className:m,children:[(0,F.jsx)("span",{className:i,style:"income"===a.type?{color:"#24CCA7"}:{color:"#e0e0e0"},children:"Income"}),(0,F.jsxs)("label",{className:u,children:[(0,F.jsx)("input",{className:x,type:"checkbox",onClick:function(e){e.currentTarget.checked?n((0,T.wx)({type:"income"})):n((0,T.wx)({type:"expense"}))}}),(0,F.jsx)("div",{className:_,children:"expense"===a.type?(0,F.jsx)(l.r7I,{className:p}):(0,F.jsx)(l.XhU,{className:p})})]}),(0,F.jsx)("span",{className:i,style:"expense"===a.type?{color:"#FF6596"}:{color:"#e0e0e0  "},children:"Expense"})]})},b=n(1413),y=n(5705),f=n(8007),A=n(1799),N=n.n(A),g=(n(1778),n(7425)),C={container:"ModalAddTransactionForm_container__X9qf-",addBtn:"ModalAddTransactionForm_addBtn__HbASK",active:"ModalAddTransactionForm_active__tU4fd",addFormInputCategory:"ModalAddTransactionForm_addFormInputCategory__Me5TS",menu:"ModalAddTransactionForm_menu__3jxeP",menuItem:"ModalAddTransactionForm_menuItem__TD2E1",addForm:"ModalAddTransactionForm_addForm__1TgEn",addFormInputContainer:"ModalAddTransactionForm_addFormInputContainer__Ht-ZE",categoryLabel:"ModalAddTransactionForm_categoryLabel__FkoAD",scaleTitle:"ModalAddTransactionForm_scaleTitle__ZKcyD",openMenuBtn:"ModalAddTransactionForm_openMenuBtn__r3EwL",openMenuBtnIcon:"ModalAddTransactionForm_openMenuBtnIcon__z6FU7",sumBox:"ModalAddTransactionForm_sumBox__o+PZv",addFormInputSum:"ModalAddTransactionForm_addFormInputSum__mNTk+",dateBox:"ModalAddTransactionForm_dateBox__L6Wbi",addFormInputDate:"ModalAddTransactionForm_addFormInputDate__+vYqQ",dataBtn:"ModalAddTransactionForm_dataBtn__JeH-Q",dataBtnIcon:"ModalAddTransactionForm_dataBtnIcon__9kRMN",commentBox:"ModalAddTransactionForm_commentBox__LiUSm",addFormTextarea:"ModalAddTransactionForm_addFormTextarea__ceN6K",errorSum:"ModalAddTransactionForm_errorSum__GCGRW",errorComment:"ModalAddTransactionForm_errorComment__Ryldq"},j=n(563),v={date:(new Date).toLocaleDateString(),categoryId:99,comment:"",sum:0},I=f.Ry().shape({comment:f.Z_().trim().max(100,"Maximum 100 symbols").matches(/(^[ A-Za-z\u0401\u0404\u0406\u0407\u0410-\u044F\u0451\u0454\u0456\u0457\u0490\u0491]+$)/,"Please, enter only letters")}),k={amount:"",comment:""},B=function(e){e.onClick;var a=(0,h.dd)().modalTransaction,n=(0,h.Os)(),d=n.categories,r=n.changeTransactions,c=(0,o.I0)(),s=(0,h.aC)().user,l=new Date,m=new Date("December 31, 2022 23:59:59");(0,t.useEffect)((function(){c((0,j.CP)({walletId:s.wallets[0].id})),c((0,T.wx)(v))}),[c,s,r]);return console.log(a),(0,F.jsx)(y.J9,{initialValues:k,validationSchema:I,onSubmit:function(e){console.log("submit"),c((0,j.dT)({walletId:s.wallets[0].id,transaction:a})),c((0,T.aG)(!1))},children:(0,F.jsxs)(y.l0,{className:C.addForm,children:[(0,F.jsxs)("div",{className:C.addFormInputContainer,children:[(0,F.jsx)("label",{className:C.categoryLabel,children:(0,F.jsx)(y.gN,{className:C.addFormInputCategory,as:"select",placeholder:"Select a category",name:"category",onChange:function(e){c((0,T.wx)({categoryId:e.currentTarget.value.toString()}))},children:d.map((function(e,n,o){return e.type[0]===a.type?(0,F.jsx)("option",{value:e.id,children:e.name},e.id):null}))})}),(0,F.jsx)("label",{className:C.sumBox,children:(0,F.jsx)(y.gN,{className:C.addFormInputSum,type:"text",placeholder:"0.00",enableReinitialize:!0,value:a.sum,name:"amount",onChange:function(e){var a=e.currentTarget.value;void 0!==a&&(isNaN(a)||Math.round(100*a)===100*a&&(a<0||a>25e5||c((0,T.wx)({sum:e.currentTarget.value}))))}})}),(0,F.jsx)("label",{className:C.dateBox,children:(0,F.jsx)(N(),{timeFormat:!1,renderInput:function(e,n){return(0,F.jsxs)("div",{className:C.dataBox,children:[(0,F.jsx)(y.gN,(0,b.Z)((0,b.Z)({},e),{},{className:C.addFormInputDate,type:"text",placeholder:"date",name:"date",autoComplete:"off",value:a.date,readOnly:!0})),(0,F.jsx)("button",{className:C.dataBtn,type:"button",onClick:n,children:(0,F.jsx)(g.FVH,{className:C.dataBtnIcon})})]})},isValidDate:function(e){return e.isBefore(l)&&e.isAfter(m)},dateFormat:"DD.MM.YYYY",closeOnSelect:!0,initialValue:new Date,onChange:function(e){c((0,T.wx)({date:e._d.toLocaleDateString()}))}})}),(0,F.jsxs)("label",{className:C.commentBox,children:[(0,F.jsx)(y.gN,{className:C.addFormTextarea,name:"comment",component:"textarea",placeholder:"Comment",value:a.comment,onKeyPress:function(e){13===e.charCode&&e.preventDefault()},onChange:function(e){c((0,T.wx)({comment:e.currentTarget.value}))}}),(0,F.jsx)(y.Bc,{className:C.errorMessage,name:"comment",component:"div",render:function(e){return(0,F.jsx)("div",{className:C.errorComment,children:e})}})]})]}),(0,F.jsx)("button",{type:"submit",className:C.addBtn,children:"Add"})]})})},w=function(){var e=(0,o.I0)(),a=function(){e((0,T.aG)(!1)),e((0,T.sg)(!1))},n=function(e){"Escape"===e.code&&a()};return(0,t.useEffect)((function(){return document.addEventListener("keydown",n),document.body.style.overflow="hidden",function(){document.removeEventListener("keydown",n),document.body.style.overflow=""}})),(0,F.jsx)("div",{className:d,onClose:a,onClick:function(e){e.currentTarget===e.target&&a()},children:(0,F.jsxs)("div",{className:r,children:[(0,F.jsx)("h2",{className:c,children:"Add transaction"}),(0,F.jsx)(M,{}),(0,F.jsx)(B,{onClick:a}),(0,F.jsx)("button",{className:s,type:"button",onClick:a,children:"cancel"})]})})}}}]);
//# sourceMappingURL=373.f667d3d6.chunk.js.map